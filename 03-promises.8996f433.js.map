{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,SAyBA,SAASC,EAAUC,EAAUC,EAAQC,GAChCF,IAAaC,GACdC,EAAMC,OAAOC,O,CAIjB,SAASC,EAAcL,EAAUM,GAE/B,OAAO,IAAIC,SAAQ,CAACC,EAASC,KAC3B,MAAMC,EAAgBC,KAAKC,SAAW,GAEtCC,YAAW,KACLH,EACFF,EAAQ,C,SAACR,E,MAAUM,IAEnBG,EAAO,C,SAACT,E,MAAUM,GAAO,GAE1BA,EAAM,G,CAxCAQ,SAASC,cAAc,SAE/BC,iBAAiB,UAAWC,IAC/BA,EAAEC,iBACF,MAAMC,EAAWF,EAAEG,cAAcD,SAC3BlB,EAASoB,SAASF,EAAiB,OAAEG,MAAO,IAC5ChB,EAAQe,SAASF,EAAgB,MAAEG,MAAO,IAC1CC,EAAOF,SAASF,EAAe,KAAEG,MAAO,IAC9C,IAAIE,EAAelB,EACnB,IAAK,IAAImB,EAAI,EAAGA,EAAIxB,EAAQwB,IAAK,CACfpB,EAAcoB,EAAI,EAAGD,GAC7BE,MAAMC,IACZC,EAAA/B,GAASgC,OAAOC,QAAQ,uBAAqBH,EAAI3B,eAAkB2B,EAAErB,WACnEP,EAAQ0B,EAAI,EAAGxB,EAAQgB,EAAE,IAE1Bc,OAAOJ,IACNC,EAAA/B,GAASgC,OAAOG,QAAQ,sBAAoBL,EAAE3B,eAAkB2B,EAAErB,WAClEP,EAAU0B,EAAI,EAAGxB,EAAQgB,EAAE,IAE/BO,GAAgBD,C","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\n\nconst form = document.querySelector('.form')\n\nform.addEventListener(\"submit\", (e) => {\n  e.preventDefault()\n  const elements = e.currentTarget.elements;\n  const amount = parseInt(elements['amount'].value, 10);\n  const delay = parseInt(elements['delay'].value, 10);\n  const step = parseInt(elements['step'].value, 10);\n  let currentDelay = delay;\n  for (let i = 0; i < amount; i++) {\n    const promise = createPromise(i + 1, currentDelay);\n    promise.then((data) => {\n      Notiflix.Notify.success(`✅ Fulfilled promise ${data.position} in ${data.delay}ms`);\n      clearForm(i + 1, amount, e);\n    })\n      .catch((data) => {\n        Notiflix.Notify.failure(`❌ Rejected promise ${data.position} in ${data.delay}ms`);\n        clearForm(i + 1, amount, e);\n      })\n    currentDelay += step;\n  }\n});\n\nfunction clearForm(position, amount, event){\n  if(position === amount){\n    event.target.reset();\n  }\n}\n\nfunction createPromise(position, delay) {\n\n  return new Promise((resolve, reject) => {\n    const shouldResolve = Math.random() > 0.3;\n\n    setTimeout(() => {\n      if (shouldResolve) {\n        resolve({position, delay});\n      } else {\n        reject({position, delay});\n      }\n    }, delay);\n  });\n}"],"names":["$eWCmQ","parcelRequire","$47d4ff9957288465$var$clearForm","position","amount","event","target","reset","$47d4ff9957288465$var$createPromise","delay","Promise","resolve","reject","shouldResolve","Math","random","setTimeout","document","querySelector","addEventListener","e","preventDefault","elements","currentTarget","parseInt","value","step","currentDelay","i","then","data","$parcel$interopDefault","Notify","success","catch","failure"],"version":3,"file":"03-promises.8996f433.js.map"}